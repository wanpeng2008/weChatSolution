<Page [ngClass]="'preview'" [title]="'下单'" [subTitle]="'请如实填写信息'" [spacing]="false">

  <form #f="ngForm" (ngSubmit)="onSave()">
    <div class="weui-cells__title">包裹内容</div>
    <div class="weui-cells weui-cells_form">
      <div class="weui-cell">
        <div class="weui-cell__bd">
          <textarea class="weui-textarea" placeholder="内容和数量" rows="2" [(ngModel)]="res.content" name="content" weui-textarea weui-cn="2" maxlength="100"></textarea>
        </div>
      </div>
    </div>

    <div class="weui-cells__title">收件人信息</div>
    <div class="weui-cells weui-cells_form">
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">姓名</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="tel" [(ngModel)]="res.customer2Name" name="toName" placeholder="请输入姓名"
                 weui-required>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">联系电话</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" [(ngModel)]="res.customer2Mobile" name="toMobile" type="tel" placeholder="请输入号码" >
        </div>
      </div>
      <div class="weui-cells">
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">省</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="toProvince" [ngModel]="res.customer2Province" (ngModelChange)="toProvinceSelected($event)" >
              <option *ngFor="let item of toProvinceList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">市</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="toCity" [ngModel]="res.customer2City" (ngModelChange)="toCitySelected($event)" >
              <option *ngFor="let item of toCityList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">县</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="toCounty" [ngModel]="res.customer2County" (ngModelChange)="toCountySelected($event)" >
              <option *ngFor="let item of toCountyList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__bd">
          <textarea class="weui-textarea" placeholder="寄达地址" rows="2" [(ngModel)]="res.customer2Address" name="toAddress" weui-textarea weui-cn="2" maxlength="100"></textarea>
        </div>
      </div>
    </div>

    <div class="weui-cells__title">寄件人信息</div>
    <div class="weui-cells weui-cells_form">
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">姓名</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="tel" [(ngModel)]="res.customerName" name="name" placeholder="请输入姓名"
                 weui-required>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">联系电话</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" [(ngModel)]="res.customerMobile" name="tel" type="tel" placeholder="请输入号码" >
        </div>
      </div>
      <div class="weui-cells">
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">省</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="province" [ngModel]="res.province" (ngModelChange)="fromProvinceSelected($event,true)" >
              <option *ngFor="let item of fromProvinceList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">市</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="city" [ngModel]="res.city" (ngModelChange)="fromCitySelected($event,true)" >
              <option *ngFor="let item of fromCityList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">县</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="county" [ngModel]="res.county" (ngModelChange)="fromCountySelected($event,true)" >
              <option *ngFor="let item of fromCountyList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__bd">
                    <textarea class="weui-textarea" placeholder="上门揽收地址" rows="2" [(ngModel)]="res.address" name="address" weui-textarea weui-cn="2" maxlength="100"></textarea>
        </div>
      </div>

    </div>


    <div class="weui-btn-area">
      <button class="weui-btn weui-btn_primary"
              [disabled]="!f.form.valid || !f.form.dirty"
              [ngClass]="{'weui-btn_disabled': !f.form.valid || !f.form.dirty}">确定</button>
    </div>
  </form>
  <p>{{res | json}}</p>
</Page>
