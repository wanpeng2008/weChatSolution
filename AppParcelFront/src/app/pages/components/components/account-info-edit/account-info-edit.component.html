<Page [ngClass]="'preview'" [title]="'用户注册'" [subTitle]="'请如实填写信息'" [spacing]="false">

  <form #f="ngForm" (ngSubmit)="onSave()">
    <div class="weui-cells weui-cells_form">
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">姓名</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="tel" [(ngModel)]="accountInfo.name" name="name" placeholder="请输入姓名"
                  weui-required>
        </div>
      </div>
      <div class="weui-cell weui-cell_vcode">
        <div class="weui-cell__hd">
          <label class="weui-label">手机</label>
        </div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="tel" [(ngModel)]="accountInfo.mobile" name="mobile" placeholder="请输入手机号"
                 weui-required>
        </div>
        <div class="weui-cell__ft">
          <button class="weui-vcode-btn"
                  [weui-vcode]="onSendCode"
                  weui-seconds="10"
                  weui-tpl="${num}s"
                  weui-error="重新发送">获取验证码</button>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">验证码</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" [(ngModel)]="accountInfo.vcode" name="vcode" type="text" placeholder="请输入验证码" weui-required>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">联系电话</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" [(ngModel)]="accountInfo.tel" name="tel" type="tel" placeholder="请输入号码" >
        </div>
      </div>
    </div>

    <div class="weui-cells__title">地址</div>
    <div class="weui-cells weui-cells_form">
      <div class="weui-cells">
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">省</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="province" [ngModel]="accountInfo.province" (ngModelChange)="provinceSelected($event)" name="province">
              <option *ngFor="let item of provinceList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">市</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="city" [(ngModel)]="accountInfo.city" (ngModelChange)="citySelected($event)" name="city">
              <option *ngFor="let item of cityList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
          <div class="weui-cell__hd">
            <label for="" class="weui-label">县</label>
          </div>
          <div class="weui-cell__bd">
            <select class="weui-select" name="county" [(ngModel)]="accountInfo.county" (ngModelChange)="countySelected($event)" name="county">
              <option *ngFor="let item of countyList" [value]="item['code']">{{item['name']}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__bd">
          <textarea class="weui-textarea" placeholder="请输入详细地址" rows="2" [(ngModel)]="accountInfo.address" name="address" weui-textarea weui-cn="2" maxlength="100"></textarea>
        </div>
      </div>

    </div>


    <label for="weuiAgree" class="weui-agree">
      <input id="weuiAgree" type="checkbox" class="weui-agree__checkbox" [(ngModel)]="agree" name="agree">
      <span class="weui-agree__text">
                阅读并同意<a href="javascript:void(0);">《相关条款》</a>
            </span>
    </label>
    <div class="weui-btn-area">
      <button class="weui-btn weui-btn_primary"
              [disabled]="!f.form.valid || !f.form.dirty"
              [ngClass]="{'weui-btn_disabled': !f.form.valid || !f.form.dirty}">确定</button>
    </div>
  </form>
  <p>{{accountInfo | json}}</p>
</Page>
